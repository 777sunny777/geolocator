/* Geolocator v.0.92 https://github.com/onury/geolocator */
var geolocator=function(){function l(b,a,c){var f=document.createElement("script");f.type="undefined"===typeof c?"text/javascript":c;a&&(f.readyState?f.onreadystatechange=function(){if("loaded"==f.readyState||"complete"==f.readyState)f.onreadystatechange=null,a()}:f.onload=function(){a()});f.src=b;document.getElementsByTagName("head")[0].appendChild(f)}function q(b){function a(){geolocator.__glcb&&delete geolocator.__glcb;google.load("maps","3",{other_params:"sensor=false",callback:b})}"undefined"!==
typeof google&&"undefined"!==typeof google.maps?b&&b():"undefined"!==typeof google&&"undefined"!==typeof google.loader?a():(geolocator.__glcb=a,l(r+"?callback=geolocator.__glcb"))}function s(b){var a=new google.maps.LatLng(b.latitude,b.longitude),c=function(b){if(0<b.length&&0<b.length){geolocator.location.formattedAddress=b[0].formatted_address;for(var c=b[0].address_components,h=0;h<c.length;h++){var d=c[h];0<=d.types.indexOf("route")?geolocator.location.address.street=d.long_name:0<=d.types.indexOf("neighborhood")?
geolocator.location.address.neighborhood=d.long_name:0<=d.types.indexOf("sublocality")?geolocator.location.address.town=d.long_name:0<=d.types.indexOf("locality")?geolocator.location.address.city=d.long_name:0<=d.types.indexOf("administrative_area_level_1")?geolocator.location.address.region=d.long_name:0<=d.types.indexOf("country")?(geolocator.location.address.country=d.long_name,geolocator.location.address.countryCode=d.short_name):0<=d.types.indexOf("postal_code")?geolocator.location.address.postalCode=
d.long_name:0<=d.types.indexOf("street_number")&&(geolocator.location.address.streetNumber=d.long_name)}}c={zoom:null===geolocator.location.ipGeoSource?14:7,center:a,mapTypeId:"roadmap"};b=b[0].formatted_address;if(h=document.getElementById(k)){var g=new google.maps.Map(h,c),m=new google.maps.Marker({position:c.center,map:g}),e=new google.maps.InfoWindow;e.setContent(b);google.maps.event.addListener(m,"click",function(){e.open(g,m)});geolocator.location.map={canvas:h,map:g,options:c,marker:m,infoWindow:e}}else geolocator.location.map=
null;j&&j.call(null,geolocator.location)};(new google.maps.Geocoder).geocode({latLng:a},function(a,b){b==google.maps.GeocoderStatus.OK&&c&&c(a)})}function t(b){var a=!1;geolocator.location=null;delete geolocator.__ipscb;q(function(){0===e?"undefined"!==typeof google&&("undefined"!==typeof google.loader&&"undefined"!==typeof google.loader.ClientLocation)&&(n(0,google.loader.ClientLocation),a=!0):3===e?"undefined"!==typeof window.Geo&&(n(e,window.Geo),delete window.Geo,a=!0):"undefined"!==typeof b&&
(n(e,b),a=!0);!0===a?s(geolocator.location.coords):g&&g("Could not get location.")})}function n(b,a){switch(b){case 0:geolocator.location={coords:{latitude:a.latitude,longitude:a.longitude},address:{city:a.address.city,country:a.address.country,countryCode:a.address.country_code,region:a.address.region}};break;case 1:geolocator.location={coords:{latitude:a.latitude,longitude:a.longitude},address:{city:a.city,country:a.country_name,countryCode:a.country_code,region:a.region_name}};break;case 2:geolocator.location=
{coords:{latitude:a.geoplugin_latitude,longitude:a.geoplugin_longitude},address:{city:a.geoplugin_city,country:a.geoplugin_countryName,countryCode:a.geoplugin_countryCode,region:a.geoplugin_regionName}};break;case 3:geolocator.location={coords:{latitude:a.lat,longitude:a.lon},address:{city:a.city,country:"",countryCode:a.country,region:""}}}geolocator.location&&(geolocator.location.coords.accuracy=null,geolocator.location.coords.altitude=null,geolocator.location.coords.altitudeAccuracy=null,geolocator.location.coords.heading=
null,geolocator.location.coords.speed=null,geolocator.location.timestamp=(new Date).getTime(),geolocator.location.ipGeoSource=p[b],geolocator.location.ipGeoSource.data=a)}var j,g,k,r="https://www.google.com/jsapi",p=[{url:r,cbParam:"callback"},{url:"http://freegeoip.net/json/",cbParam:"callback"},{url:"http://www.geoplugin.net/json.gp",cbParam:"jsoncallback"},{url:"http://geoiplookup.wikimedia.org/",cbParam:""}],e=0;return{location:null,locate:function(b,a,c,f,e){j=b;g=a;k=e;q(function(){var a=function(a){geolocator.location=
{ipGeoSource:null,coords:a.coords,timestamp:(new Date).getTime(),address:{}};s(geolocator.location.coords)},b=function(a){e(a.message)},e=function(a){var b=!0===c?0:"number"===typeof c?c:-1;0<=b?geolocator.locateByIP(j,g,b,k):g&&g.call(null,a)};geolocator.location=null;navigator.geolocation?navigator.geolocation.getCurrentPosition(a,b,f):e("geolocation is not supported.")})},locateByIP:function(b,a,c,f){e="undefined"===typeof c||0>c||c>=p.length?0:c;j=b;g=a;k=f;geolocator.__ipscb=t;b=p[e];"undefined"===
typeof b.cbParam||null===b.cbParam||""===b.cbParam?l(b.url,t):l(b.url+"?"+b.cbParam+"=geolocator.__ipscb")}}}();
